# èºä¸å¤´ä¸èºæ†æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunmasj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://kdocs.cn/l/cszuIiCKVNis)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€å·¥ä¸šè‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åˆ¶é€ çš„å¿«é€Ÿå‘å±•ï¼Œèºä¸ä½œä¸ºè¿æ¥å’Œå›ºå®šé›¶éƒ¨ä»¶çš„é‡è¦å…ƒä»¶ï¼Œå…¶æ£€æµ‹ä¸è¯†åˆ«æŠ€æœ¯é€æ¸å—åˆ°å¹¿æ³›å…³æ³¨ã€‚èºä¸å¤´ä¸èºæ†çš„ç²¾å‡†æ£€æµ‹ä¸ä»…å…³ç³»åˆ°äº§å“çš„è´¨é‡æ§åˆ¶ï¼Œè¿˜ç›´æ¥å½±å“åˆ°ç”Ÿäº§æ•ˆç‡å’Œå®‰å…¨æ€§ã€‚ä¼ ç»Ÿçš„äººå·¥æ£€æµ‹æ–¹æ³•ä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”å®¹æ˜“å—åˆ°äººä¸ºå› ç´ çš„å½±å“ï¼Œå¯¼è‡´è¯¯åˆ¤å’Œæ¼åˆ¤ã€‚å› æ­¤ï¼ŒåŸºäºè®¡ç®—æœºè§†è§‰çš„è‡ªåŠ¨åŒ–æ£€æµ‹ç³»ç»Ÿåº”è¿è€Œç”Ÿï¼Œæˆä¸ºæé«˜ç”Ÿäº§çº¿æ™ºèƒ½åŒ–æ°´å¹³çš„é‡è¦æ‰‹æ®µã€‚

åœ¨ä¼—å¤šè®¡ç®—æœºè§†è§‰æŠ€æœ¯ä¸­ï¼ŒYOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹å› å…¶é«˜æ•ˆçš„å®æ—¶ç›®æ ‡æ£€æµ‹èƒ½åŠ›è€Œå¤‡å—é’çã€‚YOLOv8ä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå…·å¤‡æ›´å¼ºçš„ç‰¹å¾æå–èƒ½åŠ›å’Œæ›´å¿«çš„æ¨ç†é€Ÿåº¦ï¼Œé€‚åˆäºå¤æ‚ç¯å¢ƒä¸‹çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚ç„¶è€Œï¼Œé’ˆå¯¹èºä¸å¤´ä¸èºæ†çš„æ£€æµ‹ï¼Œç°æœ‰çš„YOLOv8æ¨¡å‹ä»å­˜åœ¨ä¸€å®šçš„å±€é™æ€§ï¼Œå¦‚å¯¹ä¸åŒè§†è§’ã€ä¸åŒå…‰ç…§æ¡ä»¶ä¸‹çš„èºä¸å½¢æ€çš„é€‚åº”æ€§ä¸è¶³ã€‚å› æ­¤ï¼Œæ”¹è¿›YOLOv8æ¨¡å‹ä»¥æé«˜å…¶åœ¨èºä¸æ£€æµ‹ä»»åŠ¡ä¸­çš„æ€§èƒ½ï¼Œå…·æœ‰é‡è¦çš„ç†è®ºå’Œå®è·µæ„ä¹‰ã€‚

æœ¬ç ”ç©¶æ‰€ä½¿ç”¨çš„æ•°æ®é›†åŒ…å«4000å¼ å›¾åƒï¼Œæ¶µç›–äº†å››ä¸ªç±»åˆ«ï¼ŒåŒ…æ‹¬èºä¸å¤´çš„ä¾§è§†å›¾ã€èºä¸é¡¶éƒ¨è§†å›¾ä»¥åŠèºçº¹éƒ¨åˆ†ã€‚è¿™äº›å›¾åƒçš„å¤šæ ·æ€§ä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†ä¸°å¯Œçš„æ ·æœ¬ï¼Œæœ‰åŠ©äºæå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œé²æ£’æ€§ã€‚é€šè¿‡å¯¹è¿™äº›å›¾åƒè¿›è¡Œæ ‡æ³¨å’Œåˆ†ç±»ï¼Œç ”ç©¶å°†æ„å»ºä¸€ä¸ªé«˜æ•ˆçš„èºä¸æ£€æµ‹ç³»ç»Ÿï¼Œèƒ½å¤Ÿåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­å¿«é€Ÿã€å‡†ç¡®åœ°è¯†åˆ«å’Œå®šä½èºä¸éƒ¨ä»¶ã€‚è¿™ä¸€ç³»ç»Ÿçš„å®ç°ï¼Œä¸ä»…èƒ½å¤Ÿæ˜¾è‘—æé«˜ç”Ÿäº§æ•ˆç‡ï¼Œé™ä½äººå·¥æˆæœ¬ï¼Œè¿˜èƒ½åœ¨è´¨é‡æ§åˆ¶æ–¹é¢å‘æŒ¥é‡è¦ä½œç”¨ï¼Œç¡®ä¿äº§å“çš„ä¸€è‡´æ€§å’Œå¯é æ€§ã€‚

æ­¤å¤–ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„èºä¸æ£€æµ‹ç³»ç»Ÿè¿˜å…·æœ‰å¹¿æ³›çš„åº”ç”¨å‰æ™¯ã€‚éšç€æ™ºèƒ½åˆ¶é€ çš„ä¸æ–­æ¨è¿›ï¼Œè‡ªåŠ¨åŒ–æ£€æµ‹æŠ€æœ¯å°†åœ¨æ›´å¤šé¢†åŸŸå¾—åˆ°åº”ç”¨ï¼Œå¦‚æ±½è½¦åˆ¶é€ ã€ç”µå­äº§å“ç»„è£…ã€æœºæ¢°è®¾å¤‡ç»´æŠ¤ç­‰ã€‚é€šè¿‡æœ¬ç ”ç©¶çš„æ·±å…¥æ¢ç´¢ï¼Œå¯ä»¥ä¸ºå…¶ä»–ç±»ä¼¼çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡æä¾›å€Ÿé‰´ï¼Œæ¨åŠ¨è®¡ç®—æœºè§†è§‰æŠ€æœ¯åœ¨å·¥ä¸šé¢†åŸŸçš„è¿›ä¸€æ­¥å‘å±•ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„èºä¸å¤´ä¸èºæ†æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶ï¼Œä¸ä»…å…·æœ‰é‡è¦çš„å­¦æœ¯ä»·å€¼ï¼Œä¹Ÿä¸ºå®é™…ç”Ÿäº§æä¾›äº†åˆ‡å®å¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ä¼˜åŒ–ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œæå‡å…¶åœ¨ç‰¹å®šåº”ç”¨åœºæ™¯ä¸‹çš„æ€§èƒ½ï¼Œå°†ä¸ºå®ç°æ™ºèƒ½åˆ¶é€ çš„ç›®æ ‡è´¡çŒ®ä¸€ä»½åŠ›é‡ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1TSs8eEEPW/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 3
names: ['head_side_view', 'screw-top-view', 'threads']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åä¸ºâ€œScrew Head, Body detectionâ€çš„æ•°æ®é›†ï¼Œä»¥æ”¹è¿›YOLOv8æ¨¡å‹åœ¨èºä¸å¤´ä¸èºæ†æ£€æµ‹ç³»ç»Ÿä¸­çš„è¡¨ç°ã€‚è¯¥æ•°æ®é›†ä¸“é—¨é’ˆå¯¹èºä¸çš„ä¸åŒè§†è§’å’Œç‰¹å¾è¿›è¡Œäº†ç²¾å¿ƒè®¾è®¡ï¼ŒåŒ…å«äº†ä¸‰ç§ä¸»è¦ç±»åˆ«ï¼Œåˆ†åˆ«æ˜¯â€œhead_side_viewâ€ï¼ˆèºä¸å¤´ä¾§è§†å›¾ï¼‰ã€â€œscrew-top-viewâ€ï¼ˆèºä¸é¡¶éƒ¨è§†å›¾ï¼‰å’Œâ€œthreadsâ€ï¼ˆèºçº¹ï¼‰ã€‚è¿™äº›ç±»åˆ«çš„é€‰æ‹©ä¸ä»…åæ˜ äº†èºä¸åœ¨å®é™…åº”ç”¨ä¸­çš„å¤šæ ·æ€§ï¼Œä¹Ÿä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†ä¸°å¯Œçš„æ ·æœ¬ï¼Œç¡®ä¿å…¶åœ¨ä¸åŒåœºæ™¯ä¸‹çš„æ³›åŒ–èƒ½åŠ›ã€‚

é¦–å…ˆï¼Œæ•°æ®é›†ä¸­çš„â€œhead_side_viewâ€ç±»åˆ«åŒ…å«äº†å¤§é‡èºä¸å¤´çš„ä¾§é¢å›¾åƒï¼Œè¿™äº›å›¾åƒå±•ç¤ºäº†èºä¸å¤´çš„å½¢çŠ¶ã€å¤§å°å’Œç‰¹å¾ã€‚é€šè¿‡å¯¹è¿™ä¸€ç±»åˆ«çš„æ·±å…¥å­¦ä¹ ï¼ŒYOLOv8æ¨¡å‹èƒ½å¤Ÿæœ‰æ•ˆè¯†åˆ«å‡ºèºä¸å¤´çš„ä¸åŒå½¢æ€ï¼Œè¿›è€Œæé«˜å…¶åœ¨å®é™…åº”ç”¨ä¸­çš„æ£€æµ‹ç²¾åº¦ã€‚ä¾§è§†å›¾çš„å›¾åƒèƒ½å¤Ÿå¸®åŠ©æ¨¡å‹ç†è§£èºä¸å¤´çš„å‡ ä½•ç‰¹å¾ï¼Œä¸ºåç»­çš„èºæ†æ£€æµ‹å¥ å®šåŸºç¡€ã€‚

å…¶æ¬¡ï¼Œâ€œscrew-top-viewâ€ç±»åˆ«åˆ™æä¾›äº†èºä¸é¡¶éƒ¨çš„è§†è§’ï¼Œå±•ç¤ºäº†èºä¸çš„é¡¶é¢ç‰¹å¾ã€‚è¿™ä¸€è§†è§’å¯¹äºè¯†åˆ«èºä¸çš„ç±»å‹å’Œç”¨é€”è‡³å…³é‡è¦ï¼Œå› ä¸ºä¸åŒç±»å‹çš„èºä¸åœ¨é¡¶é¢è®¾è®¡ä¸Šå¾€å¾€å­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚é€šè¿‡å¯¹è¿™ä¸€ç±»åˆ«çš„å›¾åƒè¿›è¡Œåˆ†æï¼Œæ¨¡å‹èƒ½å¤Ÿå­¦ä¹ åˆ°å¦‚ä½•ä»é¡¶éƒ¨è§†è§’å‡†ç¡®è¯†åˆ«èºä¸çš„ç§ç±»ï¼Œä»è€Œåœ¨å·¥ä¸šè‡ªåŠ¨åŒ–å’Œæœºå™¨äººæŠ“å–ç­‰åº”ç”¨ä¸­å‘æŒ¥é‡è¦ä½œç”¨ã€‚

æœ€åï¼Œâ€œthreadsâ€ç±»åˆ«ä¸“æ³¨äºèºçº¹éƒ¨åˆ†çš„æ£€æµ‹ã€‚èºçº¹æ˜¯èºä¸çš„å…³é”®ç‰¹å¾ä¹‹ä¸€ï¼Œå…¶å½¢çŠ¶å’Œæ’åˆ—æ–¹å¼ç›´æ¥å½±å“èºä¸çš„åŠŸèƒ½å’Œæ€§èƒ½ã€‚é€šè¿‡å¯¹èºçº¹å›¾åƒçš„è®­ç»ƒï¼ŒYOLOv8æ¨¡å‹èƒ½å¤ŸæŒæ¡èºçº¹çš„ç»†å¾®å·®åˆ«ï¼Œè¿›è€Œæé«˜å…¶åœ¨å¤æ‚ç¯å¢ƒä¸­çš„æ£€æµ‹èƒ½åŠ›ã€‚è¿™ä¸€ç±»åˆ«çš„å›¾åƒé€šå¸¸å…·æœ‰è¾ƒé«˜çš„å¤æ‚æ€§ï¼Œå› æ­¤ä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†æå…·æŒ‘æˆ˜æ€§çš„æ ·æœ¬ï¼Œæœ‰åŠ©äºæå‡å…¶é²æ£’æ€§ã€‚

æ•´ä½“è€Œè¨€ï¼Œâ€œScrew Head, Body detectionâ€æ•°æ®é›†çš„è®¾è®¡å……åˆ†è€ƒè™‘äº†èºä¸åœ¨å®é™…åº”ç”¨ä¸­çš„å¤šæ ·æ€§å’Œå¤æ‚æ€§ã€‚é€šè¿‡å¯¹ä¸‰ç§ç±»åˆ«çš„ç³»ç»Ÿå­¦ä¹ ï¼ŒYOLOv8æ¨¡å‹èƒ½å¤Ÿåœ¨ä¸åŒçš„è§†è§’å’Œç‰¹å¾ä¸‹è¿›è¡Œæœ‰æ•ˆçš„æ£€æµ‹ï¼Œä»è€Œå®ç°æ›´é«˜çš„å‡†ç¡®ç‡å’Œæ›´å¿«çš„å“åº”é€Ÿåº¦ã€‚è¿™ç§é’ˆå¯¹æ€§çš„è®­ç»ƒæ•°æ®ä¸ä»…æé«˜äº†æ¨¡å‹çš„æ€§èƒ½ï¼Œä¹Ÿä¸ºåç»­çš„åº”ç”¨æä¾›äº†åšå®çš„åŸºç¡€ã€‚é€šè¿‡ä¸æ–­ä¼˜åŒ–æ•°æ®é›†å’Œè®­ç»ƒç­–ç•¥ï¼Œæˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿåœ¨èºä¸æ£€æµ‹é¢†åŸŸå–å¾—çªç ´æ€§è¿›å±•ï¼Œä¸ºå·¥ä¸šè‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åˆ¶é€ æä¾›æ›´ä¸ºé«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ç®—æ³•æ˜¯åŸºäºYOLOv5çš„æœ€æ–°è¿›åŒ–ç‰ˆæœ¬ï¼Œä»£è¡¨äº†ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€æ¬¡é‡è¦æŠ€æœ¯çªç ´ã€‚å®ƒåœ¨è®¾è®¡ä¸Šå……åˆ†è€ƒè™‘äº†æ¨¡å‹çš„è½»é‡åŒ–ä¸é«˜æ•ˆæ€§ï¼Œé‡‡ç”¨äº†å¤šç§åˆ›æ–°çš„ç½‘ç»œç»“æ„å’Œä¼˜åŒ–ç­–ç•¥ï¼Œä½¿å¾—å…¶åœ¨ä¿æŒé«˜ç²¾åº¦çš„åŒæ—¶ï¼Œæ˜¾è‘—æé«˜äº†è¿ç®—é€Ÿåº¦å’Œå®æ—¶æ€§ã€‚YOLOv8çš„æ¶æ„ä¸»è¦ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼šéª¨å¹²ç‰¹å¾æå–ç½‘ç»œã€ç‰¹å¾èåˆå±‚å’Œæ£€æµ‹å¤´å±‚ï¼Œè¿™äº›éƒ¨åˆ†çš„ä¼˜åŒ–ä¸æ”¹è¿›æ˜¯YOLOv8ç®—æ³•çš„æ ¸å¿ƒã€‚

åœ¨éª¨å¹²ç‰¹å¾æå–ç½‘ç»œä¸­ï¼ŒYOLOv8å¼•å…¥äº†C2Fæ¨¡å—ï¼Œæ›¿ä»£äº†YOLOv5ä¸­çš„C3æ¨¡å—ã€‚C2Fæ¨¡å—çš„è®¾è®¡çµæ„Ÿæ¥æºäºYOLOv7çš„ELANæ€æƒ³ï¼Œå…·æœ‰æ›´é«˜çš„çµæ´»æ€§å’Œæ•ˆç‡ã€‚C2Fæ¨¡å—é€šè¿‡å°†ç‰¹å¾å›¾åˆ†ä¸ºä¸¤ä¸ªåˆ†æ”¯è¿›è¡Œå¤„ç†ï¼Œç¬¬ä¸€æ¡åˆ†æ”¯ç›´æ¥è¿›è¡Œç‰¹å¾çš„è¿æ¥ï¼Œè€Œç¬¬äºŒæ¡åˆ†æ”¯åˆ™é€šè¿‡å¤šä¸ªBottleneckç½‘ç»œè¿›è¡Œä¸²å¹¶è”è¾“å‡ºã€‚è¿™ç§è®¾è®¡ä¸ä»…å¢å¼ºäº†æ¢¯åº¦æµçš„ä¿¡æ¯ä¼ é€’ï¼Œè¿˜æé«˜äº†ç‰¹å¾çš„é‡ç”¨èƒ½åŠ›ï¼Œè§£å†³äº†æ·±å±‚ç½‘ç»œä¸­å¸¸è§çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒYOLOv8èƒ½å¤Ÿæœ‰æ•ˆæå–ç›®æ ‡çš„å±€éƒ¨ç‰¹å¾å’Œå…¨å±€ç‰¹å¾ï¼Œä»è€Œæå‡ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦ã€‚

ç‰¹å¾èåˆå±‚æ˜¯YOLOv8çš„å¦ä¸€å¤§äº®ç‚¹ï¼Œé‡‡ç”¨äº†PAN-FPNï¼ˆPath Aggregation Network - Feature Pyramid Networkï¼‰ç»“æ„ï¼Œæ—¨åœ¨å®ç°å¤šå°ºåº¦ç‰¹å¾çš„é«˜æ•ˆèåˆã€‚è¯¥ç»“æ„é€šè¿‡è‡ªä¸‹è€Œä¸Šçš„æ–¹å¼ï¼Œå°†é«˜å±‚ç‰¹å¾ä¸ä¸­å±‚å’Œæµ…å±‚ç‰¹å¾è¿›è¡Œæ·±åº¦èåˆï¼Œç¡®ä¿äº†ä¸åŒå°ºåº¦ç‰¹å¾ä¹‹é—´çš„ä¿¡æ¯æµåŠ¨å’Œå…±äº«ã€‚YOLOv8åœ¨è¿™ä¸€éƒ¨åˆ†çš„åˆ›æ–°ä¹‹å¤„åœ¨äºå¼•å…¥äº†BiFPNï¼ˆBidirectional Feature Pyramid Networkï¼‰ï¼Œé€šè¿‡é«˜æ•ˆçš„åŒå‘è·¨å°ºåº¦è¿æ¥å’ŒåŠ æƒç‰¹å¾èåˆï¼Œè¿›ä¸€æ­¥æå‡äº†å¯¹ä¸åŒå°ºåº¦ç‰¹å¾ä¿¡æ¯çš„æå–é€Ÿåº¦ã€‚è¿™ç§è®¾è®¡ä½¿å¾—YOLOv8åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰åˆ°å°ç›®æ ‡å’Œå¤§ç›®æ ‡çš„ç‰¹å¾ï¼Œæ˜¾è‘—æé«˜äº†æ£€æµ‹çš„é²æ£’æ€§ã€‚

åœ¨æ£€æµ‹å¤´å±‚ï¼ŒYOLOv8é‡‡ç”¨äº†Anchor-Freeçš„æ£€æµ‹æ–¹å¼ï¼Œå–ä»£äº†ä¼ ç»Ÿçš„Anchor-Basedæ–¹æ³•ã€‚è¿™ä¸€è½¬å˜ä½¿å¾—æ¨¡å‹åœ¨ç›®æ ‡æ£€æµ‹æ—¶ä¸å†ä¾èµ–äºé¢„å®šä¹‰çš„é”šæ¡†ï¼Œä»è€Œå‡å°‘äº†æ¨¡å‹çš„å¤æ‚æ€§å’Œè®¡ç®—è´Ÿæ‹…ã€‚YOLOv8çš„æ£€æµ‹å¤´ä½¿ç”¨äº†è§£è€¦å¤´ç»“æ„ï¼Œåˆ†åˆ«å¤„ç†ç›®æ ‡çš„åˆ†ç±»å’Œè¾¹æ¡†å›å½’ä»»åŠ¡ï¼Œè¿™ç§è§£è€¦è®¾è®¡ä½¿å¾—æ¨¡å‹åœ¨åˆ†ç±»å’Œå›å½’ä¸Šéƒ½èƒ½ç‹¬ç«‹ä¼˜åŒ–ï¼Œè¿›ä¸€æ­¥æå‡äº†æ£€æµ‹ç²¾åº¦ã€‚æ­¤å¤–ï¼ŒYOLOv8è¿˜å¼•å…¥äº†VFLLosså’ŒCIoULossä½œä¸ºæŸå¤±å‡½æ•°ï¼Œä»¥åº”å¯¹ç›®æ ‡æ£€æµ‹ä¸­çš„æ ·æœ¬ä¸å¹³è¡¡é—®é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å°ç›®æ ‡æ—¶ï¼Œè¿™ç§æŸå¤±å‡½æ•°çš„ä½¿ç”¨æœ‰æ•ˆæé«˜äº†æ¨¡å‹çš„å­¦ä¹ æ•ˆç‡å’Œæ”¶æ•›é€Ÿåº¦ã€‚

åœ¨æ•°æ®é¢„å¤„ç†æ–¹é¢ï¼ŒYOLOv8ç»§æ‰¿äº†YOLOv5çš„ç­–ç•¥ï¼Œé‡‡ç”¨äº†å¤šç§æ•°æ®å¢å¼ºæ‰‹æ®µï¼Œå¦‚é©¬èµ›å…‹å¢å¼ºã€æ··åˆå¢å¼ºã€ç©ºé—´æ‰°åŠ¨å’Œé¢œè‰²æ‰°åŠ¨ç­‰ã€‚è¿™äº›å¢å¼ºæ‰‹æ®µçš„å¼•å…¥ï¼Œæ—¨åœ¨æé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œä½¿å…¶åœ¨ä¸åŒåœºæ™¯ä¸‹éƒ½èƒ½ä¿æŒè‰¯å¥½çš„æ£€æµ‹æ€§èƒ½ã€‚é€šè¿‡å°†è¾“å…¥å›¾åƒè½¬æ¢ä¸º640x640çš„RGBå›¾åƒï¼ŒYOLOv8èƒ½å¤Ÿå……åˆ†åˆ©ç”¨å…¶ç½‘ç»œç»“æ„è¿›è¡Œé«˜æ•ˆçš„ç‰¹å¾æå–å’Œç›®æ ‡æ£€æµ‹ã€‚

YOLOv8çš„è®¾è®¡ä¸ä»…å…³æ³¨æ¨¡å‹çš„ç²¾åº¦å’Œé€Ÿåº¦ï¼Œè¿˜å……åˆ†è€ƒè™‘äº†å®é™…åº”ç”¨ä¸­çš„è®¡ç®—èµ„æºé™åˆ¶ã€‚è½»é‡åŒ–çš„YOLOv8nç‰ˆæœ¬åœ¨ä¿æŒé«˜æ€§èƒ½çš„åŒæ—¶ï¼Œæ˜¾è‘—é™ä½äº†æ¨¡å‹çš„è®¡ç®—å¤æ‚åº¦ï¼Œä½¿å¾—å…¶èƒ½å¤Ÿåœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šé«˜æ•ˆè¿è¡Œã€‚è¿™ä¸€ç‰¹æ€§ä½¿å¾—YOLOv8åœ¨æ™ºèƒ½ç›‘æ§ã€è‡ªåŠ¨é©¾é©¶ã€æ— äººæœºç­‰åº”ç”¨åœºæ™¯ä¸­å±•ç°å‡ºæå¤§çš„æ½œåŠ›ã€‚

æ€»çš„æ¥è¯´ï¼ŒYOLOv8ç®—æ³•é€šè¿‡ä¸€ç³»åˆ—åˆ›æ–°çš„è®¾è®¡å’Œä¼˜åŒ–ï¼ŒæˆåŠŸåœ°å°†ç›®æ ‡æ£€æµ‹çš„æ€§èƒ½æå‡åˆ°äº†ä¸€ä¸ªæ–°çš„é«˜åº¦ã€‚å…¶åœ¨éª¨å¹²ç½‘ç»œã€ç‰¹å¾èåˆå±‚å’Œæ£€æµ‹å¤´å±‚çš„æ”¹è¿›ï¼Œä½¿å¾—YOLOv8ä¸ä»…åœ¨ç²¾åº¦ä¸Šè¡¨ç°å‡ºè‰²ï¼ŒåŒæ—¶åœ¨å®æ—¶æ€§å’Œè®¡ç®—æ•ˆç‡ä¸Šä¹Ÿå…·å¤‡äº†æå¤§çš„ä¼˜åŠ¿ã€‚è¿™äº›ç‰¹æ€§ä½¿å¾—YOLOv8æˆä¸ºå½“å‰ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€é¡¹é‡è¦æŠ€æœ¯è¿›å±•ï¼Œæ¨åŠ¨äº†ç›¸å…³åº”ç”¨çš„å‘å±•ä¸è½åœ°ã€‚éšç€YOLOv8çš„ä¸æ–­å®Œå–„ä¸æ¨å¹¿ï¼Œæˆ‘ä»¬æœ‰ç†ç”±ç›¸ä¿¡ï¼Œå®ƒå°†åœ¨æœªæ¥çš„è®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸­å‘æŒ¥æ›´ä¸ºé‡è¦çš„ä½œç”¨ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 code\ultralytics\solutions\__init__.py

æ ¹æ®æ‚¨çš„è¦æ±‚ï¼Œæˆ‘å°†å¯¹æä¾›çš„ä»£ç è¿›è¡Œåˆ†æå’Œæ³¨é‡Šã€‚ç”±äºæ‚¨åªæä¾›äº†ä¸€ä¸ªæ³¨é‡Šè¡Œ `# Ultralytics YOLO ğŸš€, AGPL-3.0 license`ï¼Œæˆ‘å°†å¯¹è¿™ä¸ªæ³¨é‡Šè¿›è¡Œè§£é‡Šå’Œåˆ†æã€‚

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license
```

### ä»£ç åˆ†æ

1. **Ultralytics YOLO**:
   - è¿™æ˜¯ä¸€ä¸ªæ·±åº¦å­¦ä¹ ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„åç§°ï¼ŒYOLOï¼ˆYou Only Look Onceï¼‰æ˜¯ä¸€ç§å®æ—¶ç›®æ ‡æ£€æµ‹ç³»ç»Ÿï¼Œèƒ½å¤Ÿåœ¨å›¾åƒä¸­å¿«é€Ÿè¯†åˆ«å’Œå®šä½å¤šä¸ªå¯¹è±¡ã€‚
   - Ultralytics æ˜¯ä¸€ä¸ªå›¢é˜Ÿæˆ–ç»„ç»‡ï¼Œä¸“æ³¨äºå¼€å‘å’Œç»´æŠ¤ YOLO æ¨¡å‹çš„å®ç°ï¼Œæä¾›äº†é«˜æ•ˆçš„ä»£ç å’Œé¢„è®­ç»ƒæ¨¡å‹ã€‚

2. **ğŸš€**:
   - è¿™ä¸ªè¡¨æƒ…ç¬¦å·é€šå¸¸ç”¨æ¥è¡¨ç¤ºå¿«é€Ÿã€å‰è¿›æˆ–ä¸æŠ€æœ¯ç›¸å…³çš„è¿›æ­¥ã€‚åœ¨è¿™é‡Œï¼Œå®ƒå¯èƒ½æš—ç¤º YOLO æ¨¡å‹çš„é«˜æ•ˆæ€§å’Œå¿«é€Ÿæ€§èƒ½ã€‚

3. **AGPL-3.0 license**:
   - è¿™æ˜¯ä¸€ä¸ªå¼€æºè®¸å¯è¯ï¼Œå…¨ç§°ä¸º GNU Affero General Public License v3.0ã€‚å®ƒå…è®¸ç”¨æˆ·è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘è½¯ä»¶ï¼Œä½†è¦æ±‚ä»»ä½•åŸºäºè¯¥è½¯ä»¶çš„ä¿®æ”¹æˆ–æ‰©å±•ä¹Ÿå¿…é¡»ä»¥ç›¸åŒçš„è®¸å¯è¯å‘å¸ƒã€‚
   - è¿™æ„å‘³ç€å¦‚æœä½ ä½¿ç”¨æˆ–ä¿®æ”¹äº† Ultralytics YOLO çš„ä»£ç ï¼Œå¹¶å°†å…¶ç”¨äºå•†ä¸šæˆ–éå•†ä¸šç›®çš„ï¼Œä½ å¿…é¡»å…¬å¼€ä½ çš„æºä»£ç ï¼Œå¹¶ä¸”ä»¥ AGPL-3.0 è®¸å¯è¯çš„æ–¹å¼åˆ†äº«ã€‚

### æ€»ç»“

è¯¥è¡Œä»£ç çš„æ ¸å¿ƒå†…å®¹æ˜¯å¯¹ Ultralytics YOLO æ¨¡å‹çš„å£°æ˜ï¼Œè¡¨æ˜å…¶å¼€æºæ€§è´¨å’Œè®¸å¯è¯è¦æ±‚ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œç†è§£è¿™äº›ä¿¡æ¯éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒä»¬æ¶‰åŠåˆ°ä½¿ç”¨å’Œåˆ†å‘ä»£ç çš„æ³•å¾‹è´£ä»»å’Œæƒåˆ©ã€‚

å¦‚æœæ‚¨æœ‰å…¶ä»–å…·ä½“çš„ä»£ç æ–‡ä»¶éœ€è¦åˆ†æï¼Œè¯·æä¾›ç›¸åº”çš„ä»£ç å†…å®¹ï¼Œæˆ‘å°†ä¸ºæ‚¨è¿›è¡Œè¯¦ç»†çš„åˆ†æå’Œæ³¨é‡Šã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œæ–‡ä»¶åä¸º`__init__.py`ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å°†åŒ…å«åœ¨`code/ultralytics/solutions`ç›®å½•ä¸­çš„Pythonæ–‡ä»¶æ ‡è¯†ä¸ºä¸€ä¸ªåŒ…ã€‚æ ¹æ®æ–‡ä»¶ä¸­çš„æ³¨é‡Šï¼ŒUltralytics YOLOæ˜¯ä¸€ä¸ªè®¡ç®—æœºè§†è§‰é¢†åŸŸçš„é¡¹ç›®ï¼Œä¸“æ³¨äºç›®æ ‡æ£€æµ‹ä»»åŠ¡ï¼Œé‡‡ç”¨äº†YOLOï¼ˆYou Only Look Onceï¼‰ç®—æ³•ã€‚æ³¨é‡Šä¸­æåˆ°çš„AGPL-3.0è®¸å¯è¯è¯´æ˜è¯¥é¡¹ç›®æ˜¯å¼€æºçš„ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ä»£ç ï¼Œä½†éœ€è¦éµå¾ªè¯¥è®¸å¯è¯çš„æ¡æ¬¾ã€‚

è™½ç„¶æ–‡ä»¶å†…å®¹éå¸¸ç®€å•ï¼Œä»…åŒ…å«ä¸€è¡Œæ³¨é‡Šï¼Œä½†å®ƒåœ¨PythonåŒ…çš„ç»“æ„ä¸­èµ·ç€é‡è¦çš„ä½œç”¨ã€‚é€šè¿‡å°†è¯¥ç›®å½•æ ‡è¯†ä¸ºä¸€ä¸ªåŒ…ï¼Œç”¨æˆ·å¯ä»¥åœ¨å…¶ä»–Pythonæ–‡ä»¶ä¸­å¯¼å…¥è¯¥åŒ…ä¸­çš„æ¨¡å—å’ŒåŠŸèƒ½ã€‚è¿™ç§ç»“æ„ä½¿å¾—ä»£ç çš„ç»„ç»‡æ›´åŠ æ¸…æ™°ï¼Œå¹¶ä¾¿äºæ¨¡å—åŒ–å¼€å‘ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ª`__init__.py`æ–‡ä»¶è™½ç„¶å†…å®¹ç®€å•ï¼Œä½†åœ¨æ•´ä¸ªé¡¹ç›®ä¸­èµ·åˆ°äº†å…³é”®çš„ä½œç”¨ï¼Œç¡®ä¿äº†ä»£ç çš„å¯é‡ç”¨æ€§å’Œæ¨¡å—åŒ–ã€‚

#### 11.2 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\extra_modules\ops_dcnv3\modules\dcnv3.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import torch
from torch import nn
import torch.nn.functional as F

class DCNv3(nn.Module):
    def __init__(self,
                 channels=64,
                 kernel_size=3,
                 stride=1,
                 pad=1,
                 dilation=1,
                 group=4,
                 offset_scale=1.0,
                 center_feature_scale=False,
                 remove_center=False):
        """
        DCNv3æ¨¡å—çš„åˆå§‹åŒ–å‡½æ•°
        :param channels: è¾“å…¥å’Œè¾“å‡ºçš„é€šé“æ•°
        :param kernel_size: å·ç§¯æ ¸çš„å¤§å°
        :param stride: å·ç§¯çš„æ­¥å¹…
        :param pad: å·ç§¯çš„å¡«å……
        :param dilation: å·ç§¯çš„æ‰©å¼ 
        :param group: åˆ†ç»„å·ç§¯çš„ç»„æ•°
        :param offset_scale: åç§»é‡çš„ç¼©æ”¾å› å­
        :param center_feature_scale: æ˜¯å¦ä½¿ç”¨ä¸­å¿ƒç‰¹å¾ç¼©æ”¾
        :param remove_center: æ˜¯å¦ç§»é™¤ä¸­å¿ƒç‚¹
        """
        super().__init__()
        # æ£€æŸ¥é€šé“æ•°æ˜¯å¦èƒ½è¢«ç»„æ•°æ•´é™¤
        if channels % group != 0:
            raise ValueError(f'channels must be divisible by group, but got {channels} and {group}')
        
        self.channels = channels
        self.kernel_size = kernel_size
        self.stride = stride
        self.dilation = dilation
        self.pad = pad
        self.group = group
        self.group_channels = channels // group
        self.offset_scale = offset_scale
        self.center_feature_scale = center_feature_scale
        self.remove_center = int(remove_center)

        # åˆå§‹åŒ–å·ç§¯å±‚ã€åç§»é‡å’Œæ©ç çš„çº¿æ€§å±‚
        self.dw_conv = nn.Conv2d(channels, channels, kernel_size, stride=1, padding=pad, groups=channels)
        self.offset = nn.Linear(channels, group * (kernel_size * kernel_size - remove_center) * 2)
        self.mask = nn.Linear(channels, group * (kernel_size * kernel_size - remove_center))
        self.input_proj = nn.Linear(channels, channels)
        self.output_proj = nn.Linear(channels, channels)
        self._reset_parameters()  # é‡ç½®å‚æ•°

    def _reset_parameters(self):
        """é‡ç½®æ¨¡å‹å‚æ•°"""
        nn.init.constant_(self.offset.weight.data, 0.)
        nn.init.constant_(self.offset.bias.data, 0.)
        nn.init.constant_(self.mask.weight.data, 0.)
        nn.init.constant_(self.mask.bias.data, 0.)
        nn.init.xavier_uniform_(self.input_proj.weight.data)
        nn.init.constant_(self.input_proj.bias.data, 0.)
        nn.init.xavier_uniform_(self.output_proj.weight.data)
        nn.init.constant_(self.output_proj.bias.data, 0.)

    def forward(self, input):
        """
        å‰å‘ä¼ æ’­å‡½æ•°
        :param input: è¾“å…¥å¼ é‡ï¼Œå½¢çŠ¶ä¸º (N, H, W, C)
        :return: è¾“å‡ºå¼ é‡ï¼Œå½¢çŠ¶ä¸º (N, H, W, C)
        """
        N, H, W, _ = input.shape  # è·å–è¾“å…¥çš„å½¢çŠ¶

        x = self.input_proj(input)  # æŠ•å½±è¾“å…¥
        x_proj = x  # ä¿å­˜æŠ•å½±åçš„è¾“å…¥ä»¥ä¾¿åç»­ä½¿ç”¨

        x1 = input.permute(0, 3, 1, 2)  # è°ƒæ•´è¾“å…¥å¼ é‡çš„ç»´åº¦é¡ºåº
        x1 = self.dw_conv(x1)  # æ·±åº¦å·ç§¯
        offset = self.offset(x1)  # è®¡ç®—åç§»é‡
        mask = self.mask(x1).reshape(N, H, W, self.group, -1)  # è®¡ç®—æ©ç å¹¶è°ƒæ•´å½¢çŠ¶
        mask = F.softmax(mask, -1)  # å¯¹æ©ç è¿›è¡Œsoftmaxå¤„ç†

        # ä½¿ç”¨DCNv3å‡½æ•°è¿›è¡Œå·ç§¯æ“ä½œ
        x = DCNv3Function.apply(
            x, offset, mask,
            self.kernel_size, self.kernel_size,
            self.stride, self.stride,
            self.pad, self.pad,
            self.dilation, self.dilation,
            self.group, self.group_channels,
            self.offset_scale,
            256,
            self.remove_center)

        x = self.output_proj(x)  # æœ€åè¿›è¡Œè¾“å‡ºæŠ•å½±
        return x  # è¿”å›è¾“å‡º
```

### ä»£ç è¯´æ˜ï¼š
1. **DCNv3ç±»**ï¼šè¿™æ˜¯ä¸€ä¸ªæ·±åº¦å¯åˆ†ç¦»å·ç§¯æ¨¡å—çš„å®ç°ï¼ŒåŒ…å«äº†åˆå§‹åŒ–å’Œå‰å‘ä¼ æ’­çš„é€»è¾‘ã€‚
2. **åˆå§‹åŒ–å‡½æ•°**ï¼šè®¾ç½®å·ç§¯å‚æ•°ï¼Œæ£€æŸ¥é€šé“æ•°æ˜¯å¦èƒ½è¢«ç»„æ•°æ•´é™¤ï¼Œå¹¶åˆå§‹åŒ–å„ä¸ªå±‚ã€‚
3. **_reset_parameterså‡½æ•°**ï¼šé‡ç½®å„ä¸ªå±‚çš„å‚æ•°ï¼Œä½¿ç”¨å¸¸æ•°åˆå§‹åŒ–å’ŒXavierå‡åŒ€åˆ†å¸ƒåˆå§‹åŒ–ã€‚
4. **forwardå‡½æ•°**ï¼šå®ç°å‰å‘ä¼ æ’­ï¼Œå¤„ç†è¾“å…¥æ•°æ®ï¼Œè®¡ç®—åç§»é‡å’Œæ©ç ï¼Œå¹¶è°ƒç”¨è‡ªå®šä¹‰çš„DCNv3å‡½æ•°è¿›è¡Œå·ç§¯æ“ä½œï¼Œæœ€åè¿”å›è¾“å‡ºç»“æœã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªå®ç°äº†DCNv3ï¼ˆDeformable Convolutional Networks v3ï¼‰æ¨¡å—çš„PyTorchä»£ç ï¼Œä¸»è¦ç”¨äºè®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸­çš„å·ç§¯æ“ä½œã€‚æ–‡ä»¶ä¸­åŒ…å«äº†å¤šä¸ªç±»å’Œå‡½æ•°ï¼Œç”¨äºæ„å»ºå’Œä½¿ç”¨DCNv3æ¨¡å—ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¼€å¤´çš„ç‰ˆæƒä¿¡æ¯å’Œè®¸å¯è¯å£°æ˜è¡¨æ˜äº†è¯¥ä»£ç çš„æ¥æºå’Œä½¿ç”¨æ¡æ¬¾ã€‚æ¥ä¸‹æ¥ï¼Œå¯¼å…¥äº†ä¸€äº›å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬PyTorchå’Œç›¸å…³çš„ç¥ç»ç½‘ç»œæ¨¡å—ã€‚

åœ¨ä»£ç ä¸­ï¼Œ`to_channels_first`å’Œ`to_channels_last`ç±»ç”¨äºåœ¨è¾“å…¥æ•°æ®çš„é€šé“æ ¼å¼ï¼ˆchannels firstå’Œchannels lastï¼‰ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚è¿™åœ¨å¤„ç†ä¸åŒæ ¼å¼çš„æ•°æ®æ—¶éå¸¸æœ‰ç”¨ã€‚

`build_norm_layer`å‡½æ•°ç”¨äºæ„å»ºå½’ä¸€åŒ–å±‚ï¼Œæ”¯æŒæ‰¹å½’ä¸€åŒ–ï¼ˆBatch Normalizationï¼‰å’Œå±‚å½’ä¸€åŒ–ï¼ˆLayer Normalizationï¼‰ï¼Œå¹¶æ ¹æ®è¾“å…¥å’Œè¾“å‡ºæ ¼å¼è¿›è¡Œç›¸åº”çš„è½¬æ¢ã€‚

`build_act_layer`å‡½æ•°ç”¨äºæ„å»ºæ¿€æ´»å‡½æ•°å±‚ï¼Œæ”¯æŒReLUã€SiLUå’ŒGELUç­‰æ¿€æ´»å‡½æ•°ã€‚

`_is_power_of_2`å‡½æ•°ç”¨äºæ£€æŸ¥ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯2çš„å¹‚ï¼Œè¿™åœ¨æŸäº›è®¡ç®—ä¸­æ˜¯æœ‰ç”¨çš„ï¼Œå°¤å…¶æ˜¯åœ¨ä¼˜åŒ–æ€§èƒ½æ—¶ã€‚

`CenterFeatureScaleModule`ç±»å®ç°äº†ä¸€ä¸ªä¸­å¿ƒç‰¹å¾ç¼©æ”¾æ¨¡å—ï¼Œç”¨äºåœ¨DCNv3ä¸­è¿›è¡Œç‰¹å¾ç¼©æ”¾ã€‚

`DCNv3_pytorch`ç±»æ˜¯DCNv3æ¨¡å—çš„ä¸»è¦å®ç°ã€‚å®ƒçš„æ„é€ å‡½æ•°æ¥æ”¶å¤šä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬é€šé“æ•°ã€å·ç§¯æ ¸å¤§å°ã€æ­¥å¹…ã€å¡«å……ã€æ‰©å¼ ç‡ã€åˆ†ç»„æ•°ç­‰ã€‚æ„é€ å‡½æ•°ä¸­è¿˜åˆå§‹åŒ–äº†å„ä¸ªå±‚ï¼ŒåŒ…æ‹¬æ·±åº¦å·ç§¯ã€åç§»é‡å’Œæ©ç çš„çº¿æ€§å±‚ç­‰ï¼Œå¹¶è®¾ç½®äº†å‚æ•°çš„åˆå§‹å€¼ã€‚

`_reset_parameters`æ–¹æ³•ç”¨äºé‡ç½®æ¨¡å‹å‚æ•°ï¼Œç¡®ä¿å®ƒä»¬åœ¨è®­ç»ƒå¼€å§‹æ—¶å¤„äºåˆé€‚çš„çŠ¶æ€ã€‚

`forward`æ–¹æ³•å®šä¹‰äº†DCNv3æ¨¡å—çš„å‰å‘ä¼ æ’­è¿‡ç¨‹ã€‚å®ƒæ¥æ”¶è¾“å…¥æ•°æ®ï¼Œç»è¿‡ä¸€ç³»åˆ—çš„çº¿æ€§å˜æ¢ã€æ·±åº¦å·ç§¯å’Œåç§»é‡è®¡ç®—ï¼Œæœ€ç»ˆè¾“å‡ºç»è¿‡å¤„ç†çš„ç‰¹å¾å›¾ã€‚

`DCNv3`ç±»æ˜¯DCNv3æ¨¡å—çš„å¦ä¸€ç§å®ç°ï¼Œä½¿ç”¨äº†ä¸åŒçš„å·ç§¯æ–¹å¼ï¼ˆä½¿ç”¨è‡ªå®šä¹‰çš„Convç±»ï¼‰ã€‚å®ƒçš„æ„é€ å‡½æ•°å’Œå‰å‘ä¼ æ’­æ–¹æ³•ä¸`DCNv3_pytorch`ç±»ç±»ä¼¼ï¼Œä½†åœ¨å®ç°ç»†èŠ‚ä¸Šæœ‰æ‰€ä¸åŒã€‚

`DCNv3_DyHead`ç±»æ˜¯DCNv3æ¨¡å—çš„åŠ¨æ€å¤´å®ç°ï¼Œä¸»è¦ç”¨äºå¤„ç†ç‰¹å®šçš„è¾“å…¥å’Œè¾“å‡ºæ ¼å¼ï¼Œé€‚ç”¨äºä¸€äº›ç‰¹å®šçš„ä»»åŠ¡ã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº†DCNv3æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæä¾›äº†çµæ´»çš„å‚æ•°è®¾ç½®å’Œå¤šç§åŠŸèƒ½æ¨¡å—ï¼Œé€‚åˆåœ¨æ·±åº¦å­¦ä¹ æ¨¡å‹ä¸­è¿›è¡Œç‰¹å¾æå–å’Œå¤„ç†ã€‚é€šè¿‡ä½¿ç”¨è¿™äº›æ¨¡å—ï¼Œç”¨æˆ·å¯ä»¥æ„å»ºæ›´å¤æ‚çš„ç¥ç»ç½‘ç»œæ¶æ„ï¼Œä»¥æé«˜è®¡ç®—æœºè§†è§‰ä»»åŠ¡çš„æ€§èƒ½ã€‚

#### 11.3 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨ streamlit è¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    # æ£€æŸ¥å‘½ä»¤æ‰§è¡Œçš„è¿”å›ç ï¼Œè‹¥ä¸ä¸º0åˆ™è¡¨ç¤ºå‡ºé”™
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")


# ä¸»ç¨‹åºå…¥å£
if __name__ == "__main__":
    # æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®šè„šæœ¬åç§°

    # è°ƒç”¨å‡½æ•°è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`ï¼šç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ã€‚
   - `subprocess`ï¼šç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

2. **å®šä¹‰ `run_script` å‡½æ•°**ï¼š
   - è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªè„šæœ¬è·¯å¾„ä½œä¸ºå‚æ•°ï¼Œå¹¶ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡Œè¯¥è„šæœ¬ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä»¥ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ Python ç¯å¢ƒã€‚
   - æ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œæ„å»ºçš„å‘½ä»¤ï¼Œå¹¶é€šè¿‡ `shell=True` å…è®¸åœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ã€‚
   - æ£€æŸ¥å‘½ä»¤çš„è¿”å›ç ï¼Œå¦‚æœè¿”å›ç ä¸ä¸º0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ã€‚

3. **ä¸»ç¨‹åºå…¥å£**ï¼š
   - ä½¿ç”¨ `if __name__ == "__main__":` ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚
   - æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼ˆè¿™é‡Œä¸º `"web.py"`ï¼‰ã€‚
   - è°ƒç”¨ `run_script` å‡½æ•°ï¼Œä¼ å…¥è„šæœ¬è·¯å¾„ä»¥è¿è¡Œè¯¥è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶åä¸º `ui.py`ï¼Œä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡å½“å‰çš„ Python ç¯å¢ƒè¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ˜¯ä½¿ç”¨ Streamlit æ¡†æ¶æ¥å¯åŠ¨ä¸€ä¸ª Web åº”ç”¨ã€‚

é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ã€‚å…¶ä¸­ï¼Œ`sys` æ¨¡å—ç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ï¼Œ`os` æ¨¡å—æä¾›äº†ä¸æ“ä½œç³»ç»Ÿäº¤äº’çš„åŠŸèƒ½ï¼Œè€Œ `subprocess` æ¨¡å—åˆ™ç”¨äºåˆ›å»ºæ–°è¿›ç¨‹ã€è¿æ¥åˆ°å®ƒä»¬çš„è¾“å…¥/è¾“å‡º/é”™è¯¯ç®¡é“ï¼Œå¹¶è·å–å®ƒä»¬çš„è¿”å›ç ã€‚æ­¤å¤–ï¼Œç¨‹åºè¿˜ä» `QtFusion.path` æ¨¡å—ä¸­å¯¼å…¥äº† `abs_path` å‡½æ•°ï¼Œç”¨äºè·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º `run_script` çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œé¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œå­˜å‚¨åœ¨ `python_path` å˜é‡ä¸­ã€‚ç„¶åï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸² `command`ï¼Œè¯¥å‘½ä»¤ä½¿ç”¨ `streamlit run` æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚è¿™é‡Œä½¿ç”¨äº†æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œä»¥ç¡®ä¿å‘½ä»¤ä¸­çš„è·¯å¾„æ­£ç¡®å¤„ç†ç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦ã€‚

éšåï¼Œä½¿ç”¨ `subprocess.run` æ–¹æ³•æ‰§è¡Œæ„å»ºå¥½çš„å‘½ä»¤ã€‚è¯¥æ–¹æ³•çš„ `shell=True` å‚æ•°è¡¨ç¤ºåœ¨ä¸€ä¸ªæ–°çš„ shell ä¸­æ‰§è¡Œå‘½ä»¤ã€‚æ‰§è¡Œå®Œå‘½ä»¤åï¼Œæ£€æŸ¥è¿”å›ç  `result.returncode`ï¼Œå¦‚æœè¿”å›ç ä¸ä¸º 0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œåˆ™æ‰“å°å‡ºé”™ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` æ¥ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚åœ¨è¿™é‡Œï¼Œé¦–å…ˆè°ƒç”¨ `abs_path` å‡½æ•°æ¥è·å–åä¸º `web.py` çš„è„šæœ¬çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ `script_path` å˜é‡ä¸­ã€‚æœ€åï¼Œè°ƒç”¨ `run_script` å‡½æ•°æ¥è¿è¡Œè¿™ä¸ªè„šæœ¬ã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºçš„ç›®çš„æ˜¯æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œé€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨ä¸€ä¸ª Streamlit Web åº”ç”¨ï¼Œä¾¿äºå¼€å‘å’Œæµ‹è¯•ã€‚

#### 11.4 code\ultralytics\hub\utils.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import requests
import threading
import time
from ultralytics.utils import LOGGER, SETTINGS, ENVIRONMENT, __version__

# å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå‘é€å¸¦æœ‰è¿›åº¦æ¡çš„HTTPè¯·æ±‚
def requests_with_progress(method, url, **kwargs):
    """
    ä½¿ç”¨æŒ‡å®šçš„æ–¹æ³•å’ŒURLå‘é€HTTPè¯·æ±‚ï¼Œå¹¶å¯é€‰åœ°æ˜¾ç¤ºè¿›åº¦æ¡ã€‚

    å‚æ•°:
        method (str): è¦ä½¿ç”¨çš„HTTPæ–¹æ³•ï¼ˆä¾‹å¦‚ 'GET', 'POST'ï¼‰ã€‚
        url (str): è¦å‘é€è¯·æ±‚çš„URLã€‚
        **kwargs (dict): ä¼ é€’ç»™åº•å±‚ `requests.request` å‡½æ•°çš„å…¶ä»–å…³é”®å­—å‚æ•°ã€‚

    è¿”å›:
        (requests.Response): HTTPè¯·æ±‚çš„å“åº”å¯¹è±¡ã€‚
    """
    progress = kwargs.pop("progress", False)  # ä»kwargsä¸­æå–è¿›åº¦å‚æ•°
    if not progress:
        return requests.request(method, url, **kwargs)  # å¦‚æœæ²¡æœ‰è¿›åº¦æ¡ï¼Œç›´æ¥å‘é€è¯·æ±‚

    # å¯ç”¨æµå¼è¯·æ±‚ä»¥ä¾¿å¤„ç†å¤§æ–‡ä»¶
    response = requests.request(method, url, stream=True, **kwargs)
    total = int(response.headers.get("content-length", 0))  # è·å–å“åº”çš„æ€»å¤§å°
    try:
        pbar = TQDM(total=total, unit="B", unit_scale=True, unit_divisor=1024)  # åˆå§‹åŒ–è¿›åº¦æ¡
        for data in response.iter_content(chunk_size=1024):  # æŒ‰å—è¯»å–å†…å®¹
            pbar.update(len(data))  # æ›´æ–°è¿›åº¦æ¡
        pbar.close()  # å…³é—­è¿›åº¦æ¡
    except requests.exceptions.ChunkedEncodingError:  # æ•è·è¿æ¥ä¸­æ–­çš„å¼‚å¸¸
        response.close()  # å…³é—­å“åº”
    return response  # è¿”å›å“åº”å¯¹è±¡


# å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ™ºèƒ½å‘é€HTTPè¯·æ±‚ï¼Œæ”¯æŒé‡è¯•æœºåˆ¶
def smart_request(method, url, retry=3, timeout=30, thread=True, verbose=True, progress=False, **kwargs):
    """
    ä½¿ç”¨'requests'åº“å‘é€HTTPè¯·æ±‚ï¼Œæ”¯æŒæŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶ã€‚

    å‚æ•°:
        method (str): è¯·æ±‚ä½¿ç”¨çš„HTTPæ–¹æ³•ã€‚
        url (str): è¦å‘é€è¯·æ±‚çš„URLã€‚
        retry (int, optional): æ”¾å¼ƒä¹‹å‰å°è¯•çš„é‡è¯•æ¬¡æ•°ã€‚é»˜è®¤æ˜¯3ã€‚
        timeout (int, optional): è¶…æ—¶ç§’æ•°ï¼Œè¶…æ—¶åå°†æ”¾å¼ƒé‡è¯•ã€‚é»˜è®¤æ˜¯30ã€‚
        thread (bool, optional): æ˜¯å¦åœ¨å•ç‹¬çš„å®ˆæŠ¤çº¿ç¨‹ä¸­æ‰§è¡Œè¯·æ±‚ã€‚é»˜è®¤æ˜¯Trueã€‚
        verbose (bool, optional): æ˜¯å¦åœ¨æ§åˆ¶å°æ‰“å°è¾“å‡ºã€‚é»˜è®¤æ˜¯Trueã€‚
        progress (bool, optional): æ˜¯å¦åœ¨è¯·æ±‚æœŸé—´æ˜¾ç¤ºè¿›åº¦æ¡ã€‚é»˜è®¤æ˜¯Falseã€‚
        **kwargs (dict): ä¼ é€’ç»™è¯·æ±‚å‡½æ•°çš„å…³é”®å­—å‚æ•°ã€‚

    è¿”å›:
        (requests.Response): HTTPå“åº”å¯¹è±¡ã€‚å¦‚æœè¯·æ±‚åœ¨å•ç‹¬çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œåˆ™è¿”å›Noneã€‚
    """
    retry_codes = (408, 500)  # ä»…å¯¹è¿™äº›çŠ¶æ€ç è¿›è¡Œé‡è¯•

    @TryExcept(verbose=verbose)
    def func(func_method, func_url, **func_kwargs):
        """æ‰§è¡Œå¸¦æœ‰é‡è¯•å’Œè¶…æ—¶çš„HTTPè¯·æ±‚ï¼Œæ”¯æŒè¿›åº¦è·Ÿè¸ªã€‚"""
        r = None  # å“åº”å¯¹è±¡
        t0 = time.time()  # è®°å½•å¼€å§‹æ—¶é—´
        for i in range(retry + 1):
            if (time.time() - t0) > timeout:  # æ£€æŸ¥æ˜¯å¦è¶…æ—¶
                break
            r = requests_with_progress(func_method, func_url, **func_kwargs)  # å‘é€è¯·æ±‚
            if r.status_code < 300:  # çŠ¶æ€ç åœ¨2xxèŒƒå›´å†…ï¼Œè¡¨ç¤ºæˆåŠŸ
                break
            # å¤„ç†é”™è¯¯ä¿¡æ¯
            try:
                m = r.json().get("message", "No JSON message.")
            except AttributeError:
                m = "Unable to read JSON."
            if i == 0:
                if r.status_code in retry_codes:
                    m += f" Retrying {retry}x for {timeout}s." if retry else ""
                if verbose:
                    LOGGER.warning(f"è¯·æ±‚å¤±è´¥: {m} (çŠ¶æ€ç : {r.status_code})")
            time.sleep(2**i)  # æŒ‡æ•°é€€é¿
        return r  # è¿”å›å“åº”å¯¹è±¡

    args = method, url
    kwargs["progress"] = progress  # æ·»åŠ è¿›åº¦å‚æ•°
    if thread:
        threading.Thread(target=func, args=args, kwargs=kwargs, daemon=True).start()  # åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œ
    else:
        return func(*args, **kwargs)  # åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œ


# å®šä¹‰ä¸€ä¸ªç±»ï¼Œç”¨äºæ”¶é›†åŒ¿åäº‹ä»¶åˆ†æ
class Events:
    """
    ç”¨äºæ”¶é›†åŒ¿åäº‹ä»¶åˆ†æçš„ç±»ã€‚äº‹ä»¶åˆ†æåœ¨è®¾ç½®ä¸­å¯ç”¨sync=Trueæ—¶å¯ç”¨ï¼Œsync=Falseæ—¶ç¦ç”¨ã€‚

    å±æ€§:
        url (str): å‘é€åŒ¿åäº‹ä»¶çš„URLã€‚
        rate_limit (float): å‘é€äº‹ä»¶çš„é€Ÿç‡é™åˆ¶ï¼ˆç§’ï¼‰ã€‚
        metadata (dict): åŒ…å«ç¯å¢ƒå…ƒæ•°æ®çš„å­—å…¸ã€‚
        enabled (bool): æ ¹æ®æŸäº›æ¡ä»¶å¯ç”¨æˆ–ç¦ç”¨äº‹ä»¶ã€‚
    """

    url = "https://www.google-analytics.com/mp/collect?measurement_id=G-X8NCJYTQXM&api_secret=QLQrATrNSwGRFRLE-cbHJw"

    def __init__(self):
        """åˆå§‹åŒ–Eventså¯¹è±¡ï¼Œè®¾ç½®äº‹ä»¶ã€é€Ÿç‡é™åˆ¶å’Œå…ƒæ•°æ®çš„é»˜è®¤å€¼ã€‚"""
        self.events = []  # äº‹ä»¶åˆ—è¡¨
        self.rate_limit = 60.0  # é€Ÿç‡é™åˆ¶ï¼ˆç§’ï¼‰
        self.t = 0.0  # é€Ÿç‡é™åˆ¶è®¡æ—¶å™¨ï¼ˆç§’ï¼‰
        self.metadata = {
            "cli": Path(sys.argv[0]).name == "yolo",
            "install": "git" if is_git_dir() else "pip" if is_pip_package() else "other",
            "python": ".".join(platform.python_version_tuple()[:2]),  # Pythonç‰ˆæœ¬
            "version": __version__,
            "env": ENVIRONMENT,
            "session_id": round(random.random() * 1e15),  # éšæœºä¼šè¯ID
            "engagement_time_msec": 1000,
        }
        self.enabled = (
            SETTINGS["sync"]
            and RANK in (-1, 0)
            and not TESTS_RUNNING
            and ONLINE
            and (is_pip_package() or get_git_origin_url() == "https://github.com/ultralytics/ultralytics.git")
        )

    def __call__(self, cfg):
        """
        å°è¯•å°†æ–°äº‹ä»¶æ·»åŠ åˆ°äº‹ä»¶åˆ—è¡¨ï¼Œå¹¶åœ¨è¾¾åˆ°é€Ÿç‡é™åˆ¶æ—¶å‘é€äº‹ä»¶ã€‚

        å‚æ•°:
            cfg (IterableSimpleNamespace): åŒ…å«æ¨¡å¼å’Œä»»åŠ¡ä¿¡æ¯çš„é…ç½®å¯¹è±¡ã€‚
        """
        if not self.enabled:
            return  # äº‹ä»¶ç¦ç”¨ï¼Œä¸æ‰§è¡Œä»»ä½•æ“ä½œ

        # å°è¯•æ·»åŠ äº‹ä»¶
        if len(self.events) < 25:  # äº‹ä»¶åˆ—è¡¨é™åˆ¶ä¸º25ä¸ªäº‹ä»¶
            params = {
                **self.metadata,
                "task": cfg.task,
                "model": cfg.model if cfg.model in GITHUB_ASSETS_NAMES else "custom",
            }
            if cfg.mode == "export":
                params["format"] = cfg.format
            self.events.append({"name": cfg.mode, "params": params})

        # æ£€æŸ¥é€Ÿç‡é™åˆ¶
        t = time.time()
        if (t - self.t) < self.rate_limit:
            return  # åœ¨é€Ÿç‡é™åˆ¶å†…ï¼Œç­‰å¾…å‘é€

        # è¶…è¿‡é€Ÿç‡é™åˆ¶ï¼Œç«‹å³å‘é€
        data = {"client_id": SETTINGS["uuid"], "events": self.events}  # å®¢æˆ·ç«¯IDå’Œäº‹ä»¶åˆ—è¡¨

        # å‘é€POSTè¯·æ±‚
        smart_request("post", self.url, json=data, retry=0, verbose=False)

        # é‡ç½®äº‹ä»¶å’Œé€Ÿç‡é™åˆ¶è®¡æ—¶å™¨
        self.events = []
        self.t = t


# åˆå§‹åŒ–äº‹ä»¶å¯¹è±¡
events = Events()
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è§£é‡Šï¼š
1. **requests_with_progress**ï¼šè¿™ä¸ªå‡½æ•°ç”¨äºå‘é€HTTPè¯·æ±‚ï¼Œå¹¶åœ¨ä¸‹è½½æ—¶æ˜¾ç¤ºè¿›åº¦æ¡ã€‚å®ƒå¤„ç†å¤§æ–‡ä»¶ä¸‹è½½çš„æµå¼è¯·æ±‚ï¼Œå¹¶åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­æ›´æ–°è¿›åº¦æ¡ã€‚

2. **smart_request**ï¼šè¿™ä¸ªå‡½æ•°å®ç°äº†ä¸€ä¸ªæ™ºèƒ½çš„HTTPè¯·æ±‚æœºåˆ¶ï¼Œæ”¯æŒé‡è¯•å’Œè¶…æ—¶åŠŸèƒ½ã€‚å®ƒå¯ä»¥åœ¨å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•ï¼Œå¹¶æ ¹æ®çŠ¶æ€ç å†³å®šæ˜¯å¦é‡è¯•ã€‚

3. **Eventsç±»**ï¼šè¿™ä¸ªç±»ç”¨äºæ”¶é›†å’Œå‘é€åŒ¿åäº‹ä»¶åˆ†ææ•°æ®ã€‚å®ƒåœ¨ç‰¹å®šæ¡ä»¶ä¸‹å¯ç”¨ï¼Œå¹¶æ ¹æ®é…ç½®æ”¶é›†äº‹ä»¶æ•°æ®ï¼Œè¾¾åˆ°é€Ÿç‡é™åˆ¶åå‘é€æ•°æ®ã€‚

è¿™äº›æ ¸å¿ƒéƒ¨åˆ†å®ç°äº†HTTPè¯·æ±‚çš„çµæ´»æ€§å’Œäº‹ä»¶åˆ†æçš„åŠŸèƒ½ï¼Œæ˜¯æ•´ä¸ªä»£ç çš„å…³é”®ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ Ultralytics YOLO é¡¹ç›®ä¸­çš„ä¸€ä¸ªå·¥å…·æ¨¡å—ï¼Œä¸»è¦ç”¨äºå¤„ç†ä¸ Ultralytics HUB ç›¸å…³çš„è¯·æ±‚å’Œäº‹ä»¶åˆ†æã€‚æ–‡ä»¶ä¸­å¯¼å…¥äº†å¤šä¸ªåº“å’Œå·¥å…·å‡½æ•°ï¼Œæä¾›äº† HTTP è¯·æ±‚çš„åŠŸèƒ½ä»¥åŠäº‹ä»¶æ”¶é›†çš„æœºåˆ¶ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å®šä¹‰äº†ä¸€äº›å¸¸é‡ï¼ŒåŒ…æ‹¬ HUB_API_ROOT å’Œ HUB_WEB_ROOTï¼Œè¿™ä¸¤ä¸ªå¸¸é‡åˆ†åˆ«ä»£è¡¨ Ultralytics HUB çš„ API å’Œç½‘é¡µåœ°å€ï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è¿›è¡Œé…ç½®ã€‚æ¥ç€ï¼Œå®šä¹‰äº†ä¸€ä¸ª `request_with_credentials` å‡½æ•°ï¼Œç”¨äºåœ¨ Google Colab ç¯å¢ƒä¸­è¿›è¡Œ AJAX è¯·æ±‚ã€‚è¯¥å‡½æ•°ä¼šæ£€æŸ¥å½“å‰ç¯å¢ƒæ˜¯å¦ä¸º Colabï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚å‡½æ•°å†…éƒ¨ä½¿ç”¨ JavaScript åˆ›å»ºä¸€ä¸ª Promise å¯¹è±¡æ¥å¤„ç†è¯·æ±‚ï¼Œå¹¶è¿”å›è¯·æ±‚çš„ç»“æœã€‚

æ¥ä¸‹æ¥ï¼Œæ–‡ä»¶ä¸­å®šä¹‰äº† `requests_with_progress` å‡½æ•°ï¼Œè¯¥å‡½æ•°ç”¨äºæ‰§è¡Œ HTTP è¯·æ±‚ï¼Œå¹¶åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­æ˜¾ç¤ºè¿›åº¦æ¡ã€‚å‡½æ•°æ ¹æ®ä¼ å…¥çš„å‚æ•°å†³å®šæ˜¯å¦æ˜¾ç¤ºè¿›åº¦æ¡ï¼Œå¹¶åœ¨è¯·æ±‚çš„å“åº”ä¸­è¿­ä»£è¯»å–æ•°æ®ï¼Œä»¥æ›´æ–°è¿›åº¦æ¡ã€‚

`smart_request` å‡½æ•°æ˜¯ä¸€ä¸ªæ›´ä¸ºå¤æ‚çš„è¯·æ±‚å¤„ç†å‡½æ•°ï¼Œæ”¯æŒé‡è¯•æœºåˆ¶å’Œè¶…æ—¶è®¾ç½®ã€‚å®ƒä½¿ç”¨æŒ‡æ•°é€€é¿ç®—æ³•æ¥å¤„ç†è¯·æ±‚å¤±è´¥çš„æƒ…å†µï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­æ‰§è¡Œè¯·æ±‚ã€‚å‡½æ•°å†…éƒ¨ä¼šæ ¹æ®è¿”å›çš„çŠ¶æ€ç åˆ¤æ–­æ˜¯å¦éœ€è¦é‡è¯•ï¼Œå¹¶åœ¨è¾¾åˆ°é‡è¯•æ¬¡æ•°æˆ–è¶…æ—¶åè¿”å›æœ€ç»ˆçš„å“åº”ã€‚

æ¥ä¸‹æ¥æ˜¯ `Events` ç±»ï¼Œå®ƒç”¨äºæ”¶é›†åŒ¿åäº‹ä»¶åˆ†ææ•°æ®ã€‚è¯¥ç±»åœ¨åˆå§‹åŒ–æ—¶ä¼šè®¾ç½®äº‹ä»¶çš„ URLã€é€Ÿç‡é™åˆ¶ã€å…ƒæ•°æ®ç­‰ä¿¡æ¯ï¼Œå¹¶æ ¹æ®ç‰¹å®šæ¡ä»¶å†³å®šæ˜¯å¦å¯ç”¨äº‹ä»¶æ”¶é›†ã€‚ç±»çš„ `__call__` æ–¹æ³•å°è¯•å°†æ–°äº‹ä»¶æ·»åŠ åˆ°äº‹ä»¶åˆ—è¡¨ä¸­ï¼Œå¹¶åœ¨è¾¾åˆ°é€Ÿç‡é™åˆ¶æ—¶å‘é€äº‹ä»¶æ•°æ®ã€‚äº‹ä»¶æ•°æ®é€šè¿‡ `smart_request` å‡½æ•°ä»¥ POST æ–¹å¼å‘é€åˆ° Google Analyticsã€‚

æœ€åï¼Œæ–‡ä»¶åœ¨æœ«å°¾åˆ›å»ºäº†ä¸€ä¸ª `Events` ç±»çš„å®ä¾‹ï¼Œä»¥ä¾¿åœ¨åç»­çš„ä»£ç ä¸­ä½¿ç”¨ã€‚æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ¨¡å—ä¸º Ultralytics YOLO æä¾›äº†ä¸ç½‘ç»œè¯·æ±‚å’Œäº‹ä»¶åˆ†æç›¸å…³çš„åŠŸèƒ½ï¼Œæ—¨åœ¨æå‡ç”¨æˆ·ä½“éªŒå’Œç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚

#### 11.5 code\ultralytics\nn\modules\conv.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import torch
import torch.nn as nn
import math

def autopad(k, p=None, d=1):
    """è‡ªåŠ¨è®¡ç®—å¡«å……ä»¥ä¿æŒè¾“å‡ºå½¢çŠ¶ä¸è¾“å…¥ç›¸åŒã€‚"""
    if d > 1:
        k = d * (k - 1) + 1 if isinstance(k, int) else [d * (x - 1) + 1 for x in k]  # è®¡ç®—å®é™…çš„å·ç§¯æ ¸å¤§å°
    if p is None:
        p = k // 2 if isinstance(k, int) else [x // 2 for x in k]  # é»˜è®¤å¡«å……ä¸ºå·ç§¯æ ¸å¤§å°çš„ä¸€åŠ
    return p

class Conv(nn.Module):
    """æ ‡å‡†å·ç§¯å±‚ï¼ŒåŒ…å«å·ç§¯ã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚"""

    default_act = nn.SiLU()  # é»˜è®¤æ¿€æ´»å‡½æ•°ä¸ºSiLU

    def __init__(self, c1, c2, k=1, s=1, p=None, g=1, d=1, act=True):
        """åˆå§‹åŒ–å·ç§¯å±‚ã€‚"""
        super().__init__()
        # åˆ›å»ºå·ç§¯å±‚
        self.conv = nn.Conv2d(c1, c2, k, s, autopad(k, p, d), groups=g, dilation=d, bias=False)
        self.bn = nn.BatchNorm2d(c2)  # æ‰¹å½’ä¸€åŒ–å±‚
        # æ ¹æ®è¾“å…¥é€‰æ‹©æ¿€æ´»å‡½æ•°
        self.act = self.default_act if act is True else act if isinstance(act, nn.Module) else nn.Identity()

    def forward(self, x):
        """å‰å‘ä¼ æ’­ï¼šåº”ç”¨å·ç§¯ã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚"""
        return self.act(self.bn(self.conv(x)))

class DWConv(Conv):
    """æ·±åº¦å¯åˆ†ç¦»å·ç§¯ã€‚"""

    def __init__(self, c1, c2, k=1, s=1, d=1, act=True):
        """åˆå§‹åŒ–æ·±åº¦å¯åˆ†ç¦»å·ç§¯å±‚ã€‚"""
        super().__init__(c1, c2, k, s, g=math.gcd(c1, c2), d=d, act=act)

class ChannelAttention(nn.Module):
    """é€šé“æ³¨æ„åŠ›æ¨¡å—ã€‚"""

    def __init__(self, channels: int) -> None:
        """åˆå§‹åŒ–é€šé“æ³¨æ„åŠ›æ¨¡å—ã€‚"""
        super().__init__()
        self.pool = nn.AdaptiveAvgPool2d(1)  # è‡ªé€‚åº”å¹³å‡æ± åŒ–
        self.fc = nn.Conv2d(channels, channels, 1, 1, 0, bias=True)  # 1x1å·ç§¯
        self.act = nn.Sigmoid()  # Sigmoidæ¿€æ´»å‡½æ•°

    def forward(self, x: torch.Tensor) -> torch.Tensor:
        """å‰å‘ä¼ æ’­ï¼šåº”ç”¨é€šé“æ³¨æ„åŠ›æœºåˆ¶ã€‚"""
        return x * self.act(self.fc(self.pool(x)))  # é€šè¿‡æ± åŒ–å’Œå·ç§¯ç”Ÿæˆæ³¨æ„åŠ›æƒé‡å¹¶åº”ç”¨

class SpatialAttention(nn.Module):
    """ç©ºé—´æ³¨æ„åŠ›æ¨¡å—ã€‚"""

    def __init__(self, kernel_size=7):
        """åˆå§‹åŒ–ç©ºé—´æ³¨æ„åŠ›æ¨¡å—ã€‚"""
        super().__init__()
        assert kernel_size in (3, 7), "kernel size must be 3 or 7"  # éªŒè¯å·ç§¯æ ¸å¤§å°
        padding = 3 if kernel_size == 7 else 1
        self.cv1 = nn.Conv2d(2, 1, kernel_size, padding=padding, bias=False)  # å·ç§¯å±‚
        self.act = nn.Sigmoid()  # Sigmoidæ¿€æ´»å‡½æ•°

    def forward(self, x):
        """å‰å‘ä¼ æ’­ï¼šåº”ç”¨ç©ºé—´æ³¨æ„åŠ›æœºåˆ¶ã€‚"""
        # è®¡ç®—é€šé“å‡å€¼å’Œæœ€å¤§å€¼ï¼Œç„¶åé€šè¿‡å·ç§¯ç”Ÿæˆæ³¨æ„åŠ›æƒé‡
        return x * self.act(self.cv1(torch.cat([torch.mean(x, 1, keepdim=True), torch.max(x, 1, keepdim=True)[0]], 1)))

class CBAM(nn.Module):
    """å·ç§¯å—æ³¨æ„åŠ›æ¨¡å—ã€‚"""

    def __init__(self, c1, kernel_size=7):
        """åˆå§‹åŒ–CBAMæ¨¡å—ã€‚"""
        super().__init__()
        self.channel_attention = ChannelAttention(c1)  # åˆå§‹åŒ–é€šé“æ³¨æ„åŠ›
        self.spatial_attention = SpatialAttention(kernel_size)  # åˆå§‹åŒ–ç©ºé—´æ³¨æ„åŠ›

    def forward(self, x):
        """å‰å‘ä¼ æ’­ï¼šä¾æ¬¡åº”ç”¨é€šé“å’Œç©ºé—´æ³¨æ„åŠ›ã€‚"""
        return self.spatial_attention(self.channel_attention(x))  # å…ˆåº”ç”¨é€šé“æ³¨æ„åŠ›ï¼Œå†åº”ç”¨ç©ºé—´æ³¨æ„åŠ›

class Concat(nn.Module):
    """åœ¨æŒ‡å®šç»´åº¦ä¸Šè¿æ¥å¤šä¸ªå¼ é‡ã€‚"""

    def __init__(self, dimension=1):
        """åˆå§‹åŒ–è¿æ¥æ¨¡å—ã€‚"""
        super().__init__()
        self.d = dimension  # è®¾ç½®è¿æ¥çš„ç»´åº¦

    def forward(self, x):
        """å‰å‘ä¼ æ’­ï¼šè¿æ¥è¾“å…¥çš„å¼ é‡ã€‚"""
        return torch.cat(x, self.d)  # æ²¿æŒ‡å®šç»´åº¦è¿æ¥å¼ é‡
```

### ä»£ç è¯´æ˜
1. **autopad**: è®¡ç®—å¡«å……ä»¥ä¿æŒå·ç§¯æ“ä½œå‰åè¾“å‡ºå½¢çŠ¶ä¸€è‡´ã€‚
2. **Conv**: æ ‡å‡†å·ç§¯å±‚ï¼ŒåŒ…å«å·ç§¯ã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚
3. **DWConv**: æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼Œç»§æ‰¿è‡ªConvï¼Œé€‚ç”¨äºå‡å°‘å‚æ•°é‡å’Œè®¡ç®—é‡ã€‚
4. **ChannelAttention**: å®ç°é€šé“æ³¨æ„åŠ›æœºåˆ¶ï¼Œé€šè¿‡è‡ªé€‚åº”å¹³å‡æ± åŒ–å’Œ1x1å·ç§¯ç”Ÿæˆé€šé“æƒé‡ã€‚
5. **SpatialAttention**: å®ç°ç©ºé—´æ³¨æ„åŠ›æœºåˆ¶ï¼Œé€šè¿‡è®¡ç®—é€šé“çš„å‡å€¼å’Œæœ€å¤§å€¼æ¥ç”Ÿæˆç©ºé—´æƒé‡ã€‚
6. **CBAM**: ç»“åˆé€šé“å’Œç©ºé—´æ³¨æ„åŠ›çš„æ¨¡å—ï¼Œå…ˆåº”ç”¨é€šé“æ³¨æ„åŠ›ï¼Œå†åº”ç”¨ç©ºé—´æ³¨æ„åŠ›ã€‚
7. **Concat**: ç”¨äºåœ¨æŒ‡å®šç»´åº¦ä¸Šè¿æ¥å¤šä¸ªå¼ é‡çš„æ¨¡å—ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªå®ç°å·ç§¯æ¨¡å—çš„ä»£ç ï¼Œä¸»è¦ç”¨äºæ·±åº¦å­¦ä¹ æ¡†æ¶PyTorchä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨Ultralytics YOLOï¼ˆYou Only Look Onceï¼‰æ¨¡å‹ä¸­ã€‚æ–‡ä»¶ä¸­å®šä¹‰äº†å¤šä¸ªå·ç§¯ç›¸å…³çš„ç±»å’Œå‡½æ•°ï¼Œè¿™äº›ç±»å’Œå‡½æ•°å¯ä»¥ç”¨äºæ„å»ºç¥ç»ç½‘ç»œçš„ä¸åŒå±‚ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬æ•°å­¦åº“ã€NumPyå’ŒPyTorchçš„ç¥ç»ç½‘ç»œæ¨¡å—ã€‚æ¥ç€ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º`autopad`çš„å‡½æ•°ï¼Œç”¨äºè‡ªåŠ¨è®¡ç®—å·ç§¯æ“ä½œæ‰€éœ€çš„å¡«å……ï¼Œä»¥ç¡®ä¿è¾“å‡ºçš„å½¢çŠ¶ä¸è¾“å…¥çš„å½¢çŠ¶ç›¸åŒã€‚è¿™ä¸ªå‡½æ•°æ ¹æ®ç»™å®šçš„å·ç§¯æ ¸å¤§å°ã€å¡«å……å’Œæ‰©å¼ ç‡æ¥è®¡ç®—å¡«å……çš„å¤§å°ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†å¤šä¸ªå·ç§¯ç±»ã€‚`Conv`ç±»æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å·ç§¯å±‚ï¼ŒåŒ…å«å·ç§¯æ“ä½œã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚å®ƒçš„æ„é€ å‡½æ•°æ¥å—å¤šä¸ªå‚æ•°ï¼Œå¦‚è¾“å…¥é€šé“æ•°ã€è¾“å‡ºé€šé“æ•°ã€å·ç§¯æ ¸å¤§å°ã€æ­¥å¹…ã€å¡«å……ã€åˆ†ç»„å’Œæ‰©å¼ ç‡ã€‚`forward`æ–¹æ³•å®šä¹‰äº†å‰å‘ä¼ æ’­çš„è¿‡ç¨‹ï¼Œå³å¯¹è¾“å…¥å¼ é‡åº”ç”¨å·ç§¯ã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚

`Conv2`ç±»æ˜¯ä¸€ä¸ªç®€åŒ–çš„å·ç§¯æ¨¡å—ï¼Œå¢åŠ äº†ä¸€ä¸ª1x1çš„å·ç§¯å±‚ï¼Œå¹¶åœ¨å‰å‘ä¼ æ’­ä¸­å°†ä¸¤ä¸ªå·ç§¯çš„è¾“å‡ºç›¸åŠ ã€‚`LightConv`ç±»å®ç°äº†ä¸€ç§è½»é‡çº§å·ç§¯ç»“æ„ï¼ŒåŒ…å«ä¸¤ä¸ªå·ç§¯å±‚ã€‚`DWConv`ç±»å®ç°äº†æ·±åº¦å·ç§¯ï¼Œå®ƒé€šè¿‡å°†æ¯ä¸ªè¾“å…¥é€šé“ä¸å…¶å¯¹åº”çš„è¾“å‡ºé€šé“è¿›è¡Œå·ç§¯æ¥å‡å°‘è®¡ç®—é‡ã€‚

`DWConvTranspose2d`ç±»å®ç°äº†æ·±åº¦è½¬ç½®å·ç§¯ï¼Œè€Œ`ConvTranspose`ç±»åˆ™å®ç°äº†è½¬ç½®å·ç§¯å±‚ï¼Œæ”¯æŒæ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚`Focus`ç±»ç”¨äºå°†ç©ºé—´ä¿¡æ¯èšç„¦åˆ°é€šé“ç»´åº¦ï¼Œ`GhostConv`ç±»å®ç°äº†Ghostå·ç§¯ï¼Œè¿™æ˜¯ä¸€ç§é«˜æ•ˆçš„å·ç§¯æ–¹æ³•ã€‚

`RepConv`ç±»å®ç°äº†ä¸€ç§åŸºæœ¬çš„é‡å¤å·ç§¯å—ï¼Œæ”¯æŒè®­ç»ƒå’Œæ¨ç†çŠ¶æ€ï¼Œå¹¶ä¸”å¯ä»¥èåˆå·ç§¯å±‚ä»¥å‡å°‘è®¡ç®—é‡ã€‚`ChannelAttention`å’Œ`SpatialAttention`ç±»åˆ†åˆ«å®ç°äº†é€šé“æ³¨æ„åŠ›å’Œç©ºé—´æ³¨æ„åŠ›æœºåˆ¶ï¼Œç”¨äºå¢å¼ºç‰¹å¾è¡¨ç¤ºã€‚`CBAM`ç±»ç»“åˆäº†é€šé“å’Œç©ºé—´æ³¨æ„åŠ›ï¼Œå½¢æˆä¸€ä¸ªå·ç§¯å—æ³¨æ„åŠ›æ¨¡å—ã€‚

æœ€åï¼Œ`Concat`ç±»ç”¨äºåœ¨æŒ‡å®šç»´åº¦ä¸Šè¿æ¥å¤šä¸ªå¼ é‡ï¼Œå¸¸ç”¨äºç‰¹å¾èåˆã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº†å¤šç§å·ç§¯æ“ä½œå’Œæ³¨æ„åŠ›æœºåˆ¶ï¼Œä¸ºæ„å»ºé«˜æ•ˆçš„ç¥ç»ç½‘ç»œæä¾›äº†åŸºç¡€ç»„ä»¶ã€‚é€šè¿‡è¿™äº›æ¨¡å—ï¼Œç”¨æˆ·å¯ä»¥çµæ´»åœ°è®¾è®¡å’Œä¼˜åŒ–è‡ªå·±çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚

#### 11.6 train.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å¹¶æ·»åŠ è¯¦ç»†ä¸­æ–‡æ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import random
import numpy as np
import torch.nn as nn
from ultralytics.data import build_dataloader, build_yolo_dataset
from ultralytics.engine.trainer import BaseTrainer
from ultralytics.models import yolo
from ultralytics.nn.tasks import DetectionModel
from ultralytics.utils import LOGGER, RANK
from ultralytics.utils.torch_utils import de_parallel, torch_distributed_zero_first

class DetectionTrainer(BaseTrainer):
    """
    æ‰©å±•è‡ª BaseTrainer ç±»çš„æ£€æµ‹æ¨¡å‹è®­ç»ƒç±»ã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æ„å»º YOLO æ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): åŒ…å«å›¾åƒçš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œ`train` è¡¨ç¤ºè®­ç»ƒæ¨¡å¼ï¼Œ`val` è¡¨ç¤ºéªŒè¯æ¨¡å¼ã€‚
            batch (int, optional): æ‰¹é‡å¤§å°ï¼Œé€‚ç”¨äº `rect` æ¨¡å¼ã€‚é»˜è®¤ä¸º Noneã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æ„é€ å¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]
        with torch_distributed_zero_first(rank):  # ä»…åœ¨ DDP ä¸­åˆå§‹åŒ–æ•°æ®é›† *.cache ä¸€æ¬¡
            dataset = self.build_dataset(dataset_path, mode, batch_size)
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        workers = self.args.workers if mode == "train" else self.args.workers * 2
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # å°†å›¾åƒå½’ä¸€åŒ–åˆ° [0, 1]
        if self.args.multi_scale:  # å¦‚æœå¯ç”¨å¤šå°ºåº¦è®­ç»ƒ
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©æ–°çš„å°ºå¯¸
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è¿›è¡Œæ’å€¼ç¼©æ”¾
            batch["img"] = imgs
        return batch

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å› YOLO æ£€æµ‹æ¨¡å‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡
        return model

    def plot_training_samples(self, batch, ni):
        """ç»˜åˆ¶å¸¦æœ‰æ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬ã€‚"""
        plot_images(
            images=batch["img"],
            batch_idx=batch["batch_idx"],
            cls=batch["cls"].squeeze(-1),
            bboxes=batch["bboxes"],
            paths=batch["im_file"],
            fname=self.save_dir / f"train_batch{ni}.jpg",
            on_plot=self.on_plot,
        )
```

### ä»£ç è¯´æ˜ï¼š
1. **DetectionTrainer ç±»**ï¼šè¿™æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒ YOLO æ£€æµ‹æ¨¡å‹çš„ç±»ï¼Œç»§æ‰¿è‡ª `BaseTrainer`ã€‚
2. **build_dataset æ–¹æ³•**ï¼šæ„å»ºæ•°æ®é›†ï¼Œæ¥æ”¶å›¾åƒè·¯å¾„ã€æ¨¡å¼å’Œæ‰¹é‡å¤§å°ï¼Œè¿”å›æ„å»ºå¥½çš„æ•°æ®é›†ã€‚
3. **get_dataloader æ–¹æ³•**ï¼šæ„é€ æ•°æ®åŠ è½½å™¨ï¼Œç¡®ä¿åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­åªåˆå§‹åŒ–ä¸€æ¬¡æ•°æ®é›†ã€‚
4. **preprocess_batch æ–¹æ³•**ï¼šå¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å½’ä¸€åŒ–å’Œå¯èƒ½çš„ç¼©æ”¾å¤„ç†ã€‚
5. **get_model æ–¹æ³•**ï¼šè¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹ï¼Œå¯ä»¥é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
6. **plot_training_samples æ–¹æ³•**ï¼šç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ³¨é‡Šï¼Œä¾¿äºå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ•°æ®ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„å®ç°ï¼ŒåŸºäº Ultralytics æä¾›çš„æ¡†æ¶ã€‚ç¨‹åºçš„æ ¸å¿ƒæ˜¯ `DetectionTrainer` ç±»ï¼Œå®ƒç»§æ‰¿è‡ª `BaseTrainer` ç±»ï¼Œä¸“é—¨ç”¨äºå¤„ç†ç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚

åœ¨æ–‡ä»¶å¼€å¤´ï¼Œå¯¼å…¥äº†ä¸€äº›å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬æ•°å­¦è¿ç®—ã€éšæœºæ•°ç”Ÿæˆã€æ·±åº¦å­¦ä¹ ç›¸å…³çš„ PyTorch æ¨¡å—ï¼Œä»¥åŠ Ultralytics æä¾›çš„æ•°æ®å¤„ç†ã€æ¨¡å‹æ„å»ºå’Œè®­ç»ƒç›¸å…³çš„å·¥å…·ã€‚

`DetectionTrainer` ç±»çš„æ„é€ å‡½æ•°å’Œæ–¹æ³•å®šä¹‰äº†è®­ç»ƒè¿‡ç¨‹ä¸­çš„å„ä¸ªæ­¥éª¤ã€‚é¦–å…ˆï¼Œ`build_dataset` æ–¹æ³•ç”¨äºæ„å»º YOLO æ•°æ®é›†ï¼Œæ¥æ”¶å›¾åƒè·¯å¾„ã€æ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰å’Œæ‰¹é‡å¤§å°ä½œä¸ºå‚æ•°ã€‚è¯¥æ–¹æ³•ä¼šæ ¹æ®æ¨¡å‹çš„æ­¥å¹…è®¡ç®—å‡ºåˆé€‚çš„å›¾åƒå°ºå¯¸ï¼Œå¹¶è°ƒç”¨ `build_yolo_dataset` å‡½æ•°æ¥åˆ›å»ºæ•°æ®é›†ã€‚

`get_dataloader` æ–¹æ³•åˆ™è´Ÿè´£æ„å»ºæ•°æ®åŠ è½½å™¨ï¼Œç¡®ä¿åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­åªåˆå§‹åŒ–ä¸€æ¬¡æ•°æ®é›†ã€‚å®ƒæ ¹æ®æ¨¡å¼å†³å®šæ˜¯å¦æ‰“ä¹±æ•°æ®ï¼Œå¹¶è®¾ç½®å·¥ä½œçº¿ç¨‹çš„æ•°é‡ã€‚

åœ¨ `preprocess_batch` æ–¹æ³•ä¸­ï¼Œå¯¹æ¯ä¸ªæ‰¹æ¬¡çš„å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒç¼©æ”¾åˆ°åˆé€‚çš„å¤§å°å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ ¼å¼ã€‚è¿™é‡Œè¿˜å®ç°äº†å¤šå°ºåº¦è®­ç»ƒçš„åŠŸèƒ½ï¼Œé€šè¿‡éšæœºé€‰æ‹©å›¾åƒå°ºå¯¸æ¥å¢å¼ºæ¨¡å‹çš„é²æ£’æ€§ã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ç­‰ï¼Œç¡®ä¿æ¨¡å‹èƒ½å¤Ÿæ­£ç¡®å¤„ç†æ•°æ®é›†ä¸­çš„ç±»åˆ«ä¿¡æ¯ã€‚

`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹ï¼Œå¹¶å¯ä»¥åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚`get_validator` æ–¹æ³•åˆ™è¿”å›ä¸€ä¸ªç”¨äºæ¨¡å‹éªŒè¯çš„ `DetectionValidator` å®ä¾‹ã€‚

`label_loss_items` æ–¹æ³•ç”¨äºè¿”å›å¸¦æœ‰æ ‡ç­¾çš„è®­ç»ƒæŸå¤±é¡¹å­—å…¸ï¼Œè¿™å¯¹äºç›®æ ‡æ£€æµ‹ä»»åŠ¡æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºéœ€è¦è·Ÿè¸ªä¸åŒç±»å‹çš„æŸå¤±ã€‚

`progress_string` æ–¹æ³•ç”Ÿæˆä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œç”¨äºæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰çš„ epochã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®ä¾‹æ•°é‡å’Œå›¾åƒå¤§å°ç­‰ä¿¡æ¯ã€‚

`plot_training_samples` æ–¹æ³•ç”¨äºç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œå¸®åŠ©å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ•°æ®ã€‚`plot_metrics` å’Œ `plot_training_labels` æ–¹æ³•åˆ™åˆ†åˆ«ç”¨äºç»˜åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒ‡æ ‡å’Œæ ‡ç­¾ï¼Œä¾¿äºåˆ†ææ¨¡å‹çš„æ€§èƒ½ã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªç¨‹åºæ–‡ä»¶æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„è®­ç»ƒæ¡†æ¶ï¼Œæ¶µç›–äº†æ•°æ®é›†æ„å»ºã€æ•°æ®åŠ è½½ã€æ¨¡å‹è®­ç»ƒã€æŸå¤±è®¡ç®—å’Œç»“æœå¯è§†åŒ–ç­‰å¤šä¸ªæ–¹é¢ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªé«˜æ•ˆçš„ç›®æ ‡æ£€æµ‹æ¨¡å‹è®­ç»ƒå·¥å…·ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

Ultralytics YOLO é¡¹ç›®æ˜¯ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹å’Œè®¡ç®—æœºè§†è§‰ä»»åŠ¡çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œä¸»è¦åŸºäº YOLOï¼ˆYou Only Look Onceï¼‰ç®—æ³•ã€‚è¯¥é¡¹ç›®çš„æ¶æ„æ¨¡å—åŒ–ï¼ŒåŒ…å«å¤šä¸ªåŠŸèƒ½æ–‡ä»¶ï¼Œæ—¨åœ¨æä¾›é«˜æ•ˆçš„æ¨¡å‹è®­ç»ƒã€æ¨ç†å’Œè¯„ä¼°å·¥å…·ã€‚ä»¥ä¸‹æ˜¯è¯¥é¡¹ç›®çš„ä¸»è¦åŠŸèƒ½æ¨¡å—ï¼š

1. **æ¨¡å‹å®šä¹‰ä¸æ„å»º**ï¼šå®ç°äº†ä¸åŒç±»å‹çš„å·ç§¯å±‚ã€æ³¨æ„åŠ›æœºåˆ¶å’Œç‰¹å¾æå–æ¨¡å—ï¼Œä»¥æ”¯æŒå¤šç§ YOLO å˜ä½“ã€‚
2. **æ•°æ®å¤„ç†**ï¼šæä¾›æ•°æ®é›†æ„å»ºã€æ•°æ®åŠ è½½å’Œé¢„å¤„ç†åŠŸèƒ½ï¼Œç¡®ä¿è®­ç»ƒå’ŒéªŒè¯è¿‡ç¨‹ä¸­æ•°æ®çš„æœ‰æ•ˆæ€§ã€‚
3. **è®­ç»ƒä¸éªŒè¯**ï¼šå®ç°äº†è®­ç»ƒè¿‡ç¨‹çš„ç®¡ç†ï¼ŒåŒ…æ‹¬æŸå¤±è®¡ç®—ã€è¿›åº¦æ˜¾ç¤ºå’Œæ¨¡å‹éªŒè¯ç­‰ã€‚
4. **æ¨ç†ä¸é¢„æµ‹**ï¼šæ”¯æŒå¯¹æ–°æ•°æ®è¿›è¡Œæ¨ç†å’Œé¢„æµ‹ï¼Œæä¾›ç»“æœå¯è§†åŒ–åŠŸèƒ½ã€‚
5. **å·¥å…·ä¸å®ç”¨å‡½æ•°**ï¼šæä¾›å„ç§å·¥å…·å‡½æ•°ï¼Œæ”¯æŒ HTTP è¯·æ±‚ã€äº‹ä»¶åˆ†æã€æ¨¡å‹å¯¼å‡ºç­‰åŠŸèƒ½ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                                                     | åŠŸèƒ½æè¿°                                                                                     |
|----------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
| `code/ultralytics/solutions/__init__.py`                                                    | å°†ç›®å½•æ ‡è¯†ä¸ºä¸€ä¸ªåŒ…ï¼Œæ”¯æŒæ¨¡å—åŒ–å¼€å‘ã€‚                                                          |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰/ultralytics/nn/extra_modules/ops_dcnv3/modules/dcnv3.py` | å®ç° DCNv3 æ¨¡å—ï¼Œæ”¯æŒå¯å˜å½¢å·ç§¯æ“ä½œï¼Œå¢å¼ºç‰¹å¾æå–èƒ½åŠ›ã€‚                                     |
| `ui.py`                                                                                     | æä¾›ä¸€ä¸ªæ¥å£ï¼Œé€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨ Streamlit Web åº”ç”¨ï¼Œä¾¿äºå¼€å‘å’Œæµ‹è¯•ã€‚                          |
| `code/ultralytics/hub/utils.py`                                                             | æä¾›ä¸ Ultralytics HUB ç›¸å…³çš„ç½‘ç»œè¯·æ±‚å’Œäº‹ä»¶åˆ†æåŠŸèƒ½ã€‚                                       |
| `code/ultralytics/nn/modules/conv.py`                                                      | å®ç°å¤šç§å·ç§¯å±‚å’Œæ³¨æ„åŠ›æœºåˆ¶ï¼Œä¸ºç¥ç»ç½‘ç»œæä¾›åŸºç¡€ç»„ä»¶ã€‚                                         |
| `train.py`                                                                                  | ç®¡ç† YOLO æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®é›†æ„å»ºã€æ¨¡å‹è®­ç»ƒå’ŒæŸå¤±è®¡ç®—ç­‰ã€‚                            |
| `code/ultralytics/engine/__init__.py`                                                      | å°†å¼•æ“æ¨¡å—æ ‡è¯†ä¸ºä¸€ä¸ªåŒ…ï¼Œæ”¯æŒæ¨¡å—åŒ–å¼€å‘ã€‚                                                      |
| `code/ultralytics/data/dataset.py`                                                          | å®šä¹‰æ•°æ®é›†ç±»ï¼Œè´Ÿè´£æ•°æ®åŠ è½½å’Œé¢„å¤„ç†ï¼Œæ”¯æŒè®­ç»ƒå’ŒéªŒè¯ã€‚                                        |
| `code/ultralytics/trackers/utils/__init__.py`                                              | å°†è·Ÿè¸ªå™¨å·¥å…·æ¨¡å—æ ‡è¯†ä¸ºä¸€ä¸ªåŒ…ï¼Œæ”¯æŒæ¨¡å—åŒ–å¼€å‘ã€‚                                              |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰/ultralytics/models/yolo/segment/predict.py` | å®ç° YOLO æ¨¡å‹çš„åˆ†å‰²ä»»åŠ¡æ¨ç†åŠŸèƒ½ã€‚                                                            |
| `code/ultralytics/hub/__init__.py`                                                         | å°† HUB æ¨¡å—æ ‡è¯†ä¸ºä¸€ä¸ªåŒ…ï¼Œæ”¯æŒæ¨¡å—åŒ–å¼€å‘ã€‚                                                    |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰/ultralytics/models/yolo/pose/val.py` | å®ç° YOLO æ¨¡å‹çš„å§¿æ€ä¼°è®¡ä»»åŠ¡éªŒè¯åŠŸèƒ½ã€‚                                                        |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰/ultralytics/engine/exporter.py`  | å®ç°æ¨¡å‹å¯¼å‡ºåŠŸèƒ½ï¼Œæ”¯æŒå°†è®­ç»ƒå¥½çš„æ¨¡å‹å¯¼å‡ºä¸ºä¸åŒæ ¼å¼ä»¥ä¾¿äºéƒ¨ç½²å’Œä½¿ç”¨ã€‚                        |

è¿™ä¸ªè¡¨æ ¼æ¦‚è¿°äº†æ¯ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œå±•ç¤ºäº† Ultralytics YOLO é¡¹ç›®çš„æ¨¡å—åŒ–è®¾è®¡å’ŒåŠŸèƒ½åˆ†å¸ƒã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/ZpuZk59w](https://mbd.pub/o/bread/ZpuZk59w)